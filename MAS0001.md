# About MAS0001

This defines the needed requirements for all MAS repositories.

It also defines the usage of MAS repositories for developers.

If you are looking to file a DMCA TakeDown the description is at the bottom the this page.

# Source Tree Layout

This defines the source tree directories and their purpose.

## Binaries

All fully compiled binaries will go into the `bin/` directory, 
these binaries are full usable and ready to install. 
It may include executables, static libraries, and dynamic libraries.

Partially compiled libraries will go into the `obj/` directory,
these binaries will not be installed and are only used for creating the final binaries.

Dynamic and static libraries must be prefixed with `lib`.

These files may be installed to `/sbin/`, `/bin/`, `/lib{32,64}/`, 
`/usr/sbin/`, `/usr/bin/`, `/usr/bin/lib{32,64}/`,
`/usr/local/sbin/`, `/usr/local/bin/`, or `/usr/local/lib{32,64}/` depending on the usage of the binary.

## Documentation

Documentation will be in MAS^0003 : Mimik Mark Down Format or GitHub Mark Down Format,
these documents will go into the `doc/` directory.
They may be install into the `/usr/share/doc/*ProjectName*/` directory.

## Unix Manuals

Unix Manuals or Man Pages will be in the `man/` directory and will be in,
Troff format.

## Sources

All source file, not header files, will be in the `src/` directory or
a sub-directory inside the `src/` directory.

These files may be installed to `/usr/src/*ProjectName*/` or `/usr/local/src/*ProjectName*/`.

## Includes

All include files are in the `inc/` directory,
NO SUB-DIRECTORIES.

These file may be installed to `/usr/include/*ProgectName*/` or `/usr/local/src/*ProjectName*/`.

## Precompiled

All precompiled binaries and sources are in the `pre/` directory.
These may include major releases and bug fixes.

## Tests

All tests will be in the `tst/` directory.

## Languages

Multi-language support is allowed and the language header files should be in `lng/` directory.

# Branch Layout

There will only be one branch named `master`.


# Configuration

`./configure` is a necessary file.

Set variables as environment variables 

exp ` $ prefix=../inst/ ./configure`

## Prefixes

Prefixes are used for installation destinations.

usable prefixes are

 - prefix    the root directory, all other prefixes use this by default, default /
 - eprefix   executable prefix, where /bin /sbin /lib are located, default /
 - uprefix   user prefix, where /src /include are, default /usr/
 - bindir   binary directory, default /bin
 - sbindir  system binary directory, default /sbin/
 - libdir   library directory, default /lib
 - lib32dir 32-bit library directory, default /lib32/
 - srcdir   installed source directory, default /usr/src/
 - incdir   installed include directory, default /usr/include/
 - docdir   installed documentation directory, default /usr/share/doc/
 - mandir   installed unix manuals directory, default /usr/share/man/

## Languages

Use lang variable to set the used language file.

exp use french for the binary language ( will not change the configuration script language )
```SH
 $ ls ./lng
   en.h
   fr.h
   de.h
 $ lang=fr ./configure
```

## Other Flags

The other usable flags are

 - ldflags   flags for the linker
 - cflags    flags for the c compiler
 - ccldflags flags for the c compiler linker 
 - asflags   assembler flags
 - ld        the linker to use
 - cc        the c compiler
 - ccld      the c compiler linker
 - as        the assembler      

# Installation / Uninstallation

## Installation 

The steps to install any MAS is

Configure
Make Install

exp
```
 $ ./configure
 # make strip-install # build optimize install
```

## Uninstallation

The steps to uninstall any MAS is

Configure, Make sure the configuration setting are the same as the ones for the installation
Make Uninstall

exp
```
 $ ./configure # only if you did not do it already
 # make uninstall
```

# Make File

The Make File will be a GNU Make file.
This file will be `body.makefile` the configuration script will create the final `makefile`.

It must have the rules

 - build, build the binary
 - run, run the binary, for development
 - strip, optimized the binaries
 - install, install the binaries
 - strip-install, strip then install
 - uninstall, uninstall the binaries
 - build-tests, build tests
 - run-tests, run tests
 - test, build then run tests
 - clean, remove all generated files

Part of the Make File head generated by configuration script

 - prebuild, build a new prebuild binary and source
 - list, list the configuration settings

# Committing Bug Fixes

The commit message will be `fix bug: issue #*issue number*`.

# Committing Features

The commit message for non-finishing commits will be `*feature* addition: *addition message*`.

The commit message for finishing commits will be `*feature* finished: *message*`.

# Licensing

This Mimik License 2023 will be used along with other license on top of it, AS LONG AS THEY COMPLY WITH MIMIK LICENSE 2023.

# Source Code Format

This specifies the source format for C/C++ languages for other please follow this as closely as the programming language can allow.
The C99 standard will be used if your using C/C++.

## A Note On C++

If you are using C++ please make a C compatible interface, 
do not use any C++ exclusive features in the API, and header file.
The functions must have no name mangling and the header file must follow the specification for C.

## Function Declarations

Function will be declared in a easy to read old style format, 
in both source and header files.

Do not define a function like this
```C
int main (int argc, char *argv[])
{

}
```

Define it like this
```C
int
main (argc, argv)
	int argc;
	char *argv[];
{

}
```

## Variable Declarations

Variables will never be compiled into one line.
Line names up for easy reading, 
and group related variables by keeping them close together.
The pointer element is attached to the variable name not the type.

Do not define like this
```C
char *s1, s2;
const char *s3;
int v;
```

Define it like this
```C
char       *s1;
char       *s2;
const char *s3;

int v;
```

## Structure, Enum, And Union Declarations

Much like variable declaration do not compile them into one line,
keep them separate with proper indentation.
Keep all definitions that are part of one structure at the top then define a new union, struct, or enum at the bottom.
Keep brackets on a new line.

Do not define like this
```C
struct MyStruct {
	char *name, desc;
	union { char c, int i };
	char val;
};
```

Define like this
```C
struct MyStruct
{
	char *name;
	char *desc;

	char  val;

	union
	{
		char c;
		int  i;
	};
};
```

## Comments

Single line comment will be inline with the statement indented with other comments near it, 
unless the line is two long or it is defining a group of statements, then it is on top of the statement(s).

Do not use single line comments like this
```C
// This is a signed integer
int integer;

int          i1; // This is a group of signed integers
int          i2;
unsigned int i3; // Other then this one
```

Use the like this
```C
int integer; // This is a signed integer

// This is a group of singed integers
int i1;
int i2;

unsigned int i3; // Other then this one
```

Use multi-line comments sparingly,
only use if your defining a group of statements and explicitly need multiple lines,
or if your defining an entire struct, enum, union, function, or file.
Each line in a multi-line comment with start with an indexed star, `*`, then the comment.

Do not use multi-line comments like this
```C
// example of an empty main function
// CopyRight John Doe 2068 
// Mimik License 2023 All Rights Reserved To The CopyRight Holder
// SoftWare is provided "AS IS"
// See MAS=0002 : Mimik License 2023

/* entry point function */
int
main (argc, argv)
	int   argc;
	char *argv[];
{
	return 0;
}
```

Use them like this
```C
/*
 * Example of an empty main function
 *
 * CopyRight John Doe 2068
 * Mimik License 2023 All Rights Reserved To The CopyRight Holder
 * SoftWare is provided "AS IS"
 * See MAS=0002 : Mimik License 2023
 */

// entry point function
int
main (argc, argv)
	int   argc;
	char *argv[];
{
	return 0;
}
```

## Naming Conventions

If you are writing a library then all non-static source variables, or static header variables must be prefixed with the library name then an under score.
These variables include functions, variables them selves, typedefs, structs, enums, and unions.
Most variable naming convention will be Camel Case, other then constants, struct, enum, and unions are Pascal Case.

Do not do
```C
int very_long_name;

const void *null_pointer;

struct library_name_my_struct
{

};

int
library_name_my_function (void);
```

Do
```C
int veryLongName;

const void *NullPointer;

struct libraryName_MyStruct
{

};

int
libraryName_myFunction (void);
```

## If Statements

If statement conditions will be in groups with parentheses on separate lines and boolean condition tailing on the operation.

Do not do
```C
if ((v >= 3 || !v) && !p && !s)
{

}
```

Do
```C
if ((
		v >= 3 ||
		!v
	) &&
	!p &&
	!s)
{

}
```

## Macros

Only use macros for configuration, or settings, for you application.
Other wise use `static inline` or `static const` in your files, 
keep the names in upper case and with snake case.

Do not do
```C
#define ADD(x, y) ((x)+(y))
#ifdef SETTING
#	define SETTING_IS_SET 1
#else
#	define SETTING_IS_SET 0
#end
```

Do
```C
static inline
ADD (x, y)
	int x;
	int y;
{
	return x+y;
}

/*
 * define and ifdef is only used for communication 
 * between header files
 */
#ifdef  SETTING
#define SETTINGS_IS_BEING_USED 1
	static const SETTING_IS_SET = 1;
#else
	static const SETTING_IS_SET = 0;
#endif
```

## License Notice

License notices should be at the top of the fill at the bottom of a 
multi-line comment.
It should start of will the copyright message with the name of the copyright holder and the year(s),
then the license(s) being used,
followed by a software provided as is message,
finally there is a more info here message.

Exp
```C
/*
 * Stuff
 *
 * CopyRight Holder John Doe 2068 All Right Reserved
 * Mimik License 2023
 * The SoftWare Is Provided "AS IS"
 * For More Info See MAS=0002 : Mimik License 2023
*/
```

## Grouping

You may group many lines of statements in to a group with a comment.
Usually do this when you can make a function from the lines but,
it would only be used once.

```C
int
main (void)
{
	// this is a bad case to use it but it is just an example
	{ // lots of hellos
		printf("Hello\n");
		printf("Hello\n");
		printf("Hello\n");
		printf("Hello\n");
		printf("Hello\n");
		printf("Hello\n");
		printf("Hello\n");
		printf("Hello\n");
		printf("Hello\n");
		printf("Hello\n");
	}

	return 0;
}
```

## Portability

Always check for 64-bit if your going to use it.
Always use `stdint.h` to get integer definitions instead of making your own.

Do not do
```C
typedef long int bigInteger;
```

Do
```C
#include <stdint.h>
#if __WORDSIZE != 64 
#	error "64-Bit is needed for this program!"
#endif

typedef int64_t bitInterger;
```

## POSIX And Non-POSIX Systems

Mimik Applications are for POSIX Compliant Systems, 
and expects the POSIX LibC Functions and Headers.

Your application does not need to worry about Non-POSIX systems because it does not suppose to be run on them.

# READMEs

The README file will be in MarkDown format and it will contain,
information about the MAS. 
This information will be needed applications for compilation, installation, and execution, it will also contain development information if the MAS is not finished.
Since all MASes have the same Compilation, Installation, and Uninstallation steps you do not need to list them.

# Documentation

Documentation may be in the for of MarkDown files in `doc/` or 
Troff files in `man/`.

# Status Changes

## Going From Queued To Building

A base MAS template will be uploaded to GitHub/MimikSpecs.
The repositories name will be MAS*MAS ID*.

Then development will start.

## Going From Building To Working

The project is usable but not finished.

Development will continue.

## Going From Working To Finished

The project is finished.

Development will stop, only bug fix will be committed.

## Going From Finished To Archived

Project is over, there are not bugs.

All commits will be stopped, and the GitHub repository will be archived.

## Getting Depreciated

The MAS gets flags as depreciated and the superior version will be listed.

All development will stop, all raised issues will be dealt with.

Then the MAS will be Archived.

## Getting Killed

All development stopped, all issues removed, and the software deleted.

The reason for deleted will be listed in the README file, all other files will be deleted.

The repository will be archived.

### Filing A Killing

If you would like to file a Killing of a MAS please email mimik@email.com.

And list one of the following reasons:
	
 - CopyRight Violation
 - Licensing Violation
 - Patent Violation
 - General DMCA TakeDown

Please list the violation present, 
and a link to a copy of the CopyRight, License, or Patent for review.

We will send a return email that states what we will do.

PLEASE DO NOT MESSAGE GITHUB UNTILL YOU HAVE TRIED US

our MASes are stored through out the internet if you would like a deletion MESSAGE US.
